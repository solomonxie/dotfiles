" -------------[ MINIMUM VIMRC ]---------------
"
" MAINTAINER: Solomon Xie <solomonxiewise@gmail>
" Enviroment: Raspbian


" [  General Builtin Settings  ]-----------{
    set nocompatible   " be iMproved, required
    "set spell spelllang=en,en_us,cjk  "Spell check [Ugly]
    "set nospell
    set ignorecase "Case Insensitive
    set ignorecase   "搜索时忽略大小写
    set smartcase  "搜索时如果输大写, 就不再忽略大小写
    set hidden " 设置Buffer缓冲区允许不保存时切换buffer
    set number "show line number
    set mouse=a  "设置鼠标滚动为All，即在tmux中的vim也能滚动 （但是选中文字自动会进入Visual模式）
    "set paste   "设置可以直接用ctrl+c ctrl+v复制粘贴 其实没什么区别 只不过不用在insert模式而已
    set showcmd " show keypress at right-bottom
    set backspace=2 "backspace over everything in insert mode
    set autoindent "换行时自动缩排 同时对应的还有其它两种模式 smartindent, cindent
    set tabstop=4 "设定tab宽度为4个字符
    set shiftwidth=4 "设定自动缩进为4个字符
    set expandtab "用space替代tab的输入 取消的话 就用set noexpandtab "不用space替代tab的输入
    set encoding=utf8  "设置默认编码
    retab "打开文件时自动转换所有tab为空格
" }


" [  Advanced Builtin Settings  ]-----------{
    "<Taging>
    set tags=tags  "Plugin: Ctags
    "<Folding>
    set foldenable              " 开始折叠
    set foldmethod=syntax       " 设置语法折叠
    set foldnestmax=1
    set foldcolumn=0            " 设置折叠区域的宽度
    setlocal foldlevel=1        " 设置折叠层数
    set foldlevelstart=99       " 打开文件是默认不折叠代码
    "set foldclose=all          " 设置为自动关闭折叠
" }



" [   Key Mappings / Bindings   ]----------------------------{
    "<Leader key>
        let mapleader = ','

    "<Files>
        "Save file
        noremap  <leader>s <ESC>:w<CR><ESC>
        "Save & Exit
        noremap  <C-x> <ESC>:x<CR><ESC>
        noremap <leader>j :jumps<CR>

    "<Edits> -> <Tab> default set to <C-i>, but remap not working
        noremap  <C-c> <Esc>:nohl<CR><ESC>
        inoremap <C-c> <Esc>
        nnoremap <space> viw
        "inoremap jj <esc>
        map q <NOP>
        inoremap <leader>r q
        nnoremap <leader>aa :ggVG<CR>
        nnoremap <leader>ay :%y+<CR>
        nnoremap <leader>ad :%d+<CR>
        nnoremap g- ''

    "<Splits>
        noremap S :vsplit<CR><C-w>l<ESC>:bn<CR><ESC>
        nnoremap <leader>ve :vsplit ~/dotfiles/vim/vimrc<CR>

    "<Buffer>
        "Close buffer
            "noremap <leader>bq :bd<CR><ESC>
            noremap <leader>bd :bp\|bd #<CR>
        "Move between buffers
            noremap <leader>h :bp<CR>
            noremap <leader>l :bn<CR>
        "History search
            "noremap <leader><C-h> :browse oldfiles<CR>
            "noremap <leader><C-h> :History<CR>

    "<Windows>
        noremap m <C-w>
        "noremap H <C-w>h
        "noremap L <C-w>l
        noremap <TAB> <C-w>w
        noremap <S-TAB> <C-w>h
        "noremap <leader>o <C-w>o
        "noremap <leader>qw <C-w>c

    "<Appearence>
        noremap <leader>z :setlocal spell spelllang=en,en_us,cjk<CR>
        noremap <leader>Z :setlocal nospell<CR>

    "<Clipboard>
        " 复制到系统剪切板
        noremap <leader>y "+y
        " 从系统剪切板中粘贴到当前位置
        noremap <leader>p "+p
        noremap <leader>" :reg<CR>

    "<Folding>
        "noremap <space> za
        noremap <leader><return> zR
        noremap <leader><space> zM
        " >> 用空格键来开关折叠
        "nnoremap <space> @=((foldclosed(line('.')) < 0) ? 'zc' : 'zo')<CR>
        "nnoremap <return> za

    "<Highlights> -> 当输入查找命令时，再启用高亮
        noremap n :set hlsearch<cr>n
        noremap N :set hlsearch<cr>N
        noremap / :set hlsearch<cr>/
        noremap ? :set hlsearch<cr>?
        noremap * *:set hlsearch<cr>

    "<NetRW> -> (Lexplore/Vexplore/Texplore/Explore/Sexplore/edit.)
        nnoremap <leader>f :Lexplore<CR>
        "nnoremap <leader>f :Explore<CR>
        "nnoremap <leader>f :edit.<CR>

    "<Omni Autocomplete> -> Vim自带的Omni自动补全
        "inoremap <C-d> <C-x><C-l>
        "inoremap ' ''<Esc>i
        "inoremap " ""<Esc>i
        "inoremap ( ()<Esc>i
        "inoremap [ []<Esc>i
        "inoremap { {}<Esc>i

" }



" [  Search Highlighting  ]-----------{
    set incsearch    "即时显示匹配结果
    " >>
        highlight Search guibg='Purple' guifg='NONE'
        highlight IncSearch gui=underline,bold guifg=White guibg=Red3
        "highlight IncSearch ctermbg=black ctermfg=yellow
    " 鼠标无动作时取消高亮
        autocmd cursorhold * set nohlsearch
    " 括号匹配自动高亮
        "highlight MatchParen cterm=underline ctermbg=NONE ctermfg=NONE"
" }



" [  Abbreviations  ]--------{
    " Test
        iabbrev waht what
        iabbrev tehn then
" }


" [  Swap files  ]--------{
    set swapfile    "enable swap file
    set directory=/tmp    "set swp file directory.
    set updatecount=20     "save swp file every amount of characters
    " ▼ update also check cursor-holds and other functions, bit expensive one.
    set updatetime=4000   "save swap file every amount of ms
" }
